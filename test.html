<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Medivox HDL</title>
  <script src="https://unpkg.com/wavesurfer.js@7"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="main-container">
    <h1>Medivox HDL</h1>
    <div class="status-bar">
      <div class="error-message" id="errorMessage"></div>
      <div id="connectionStatus">D√©connect√©</div>
    </div>

    <div id="processing-container">
      <div class="tabs">
        <button class="tab-button active" data-tab="upload-tab">T√©l√©verser un fichier</button>
        <button class="tab-button" data-tab="recorder-tab">Enregistrer un Audio</button>
      </div>

      <div id="upload-tab" class="tab-pane active">
        <div class="tab-content">
          <div id="dropzone">
            <div id="dropzone-icon">üìÅ</div>
            <div id="dropzone-text">Glissez-d√©posez votre fichier audio ici, ou cliquez sur Parcourir</div>
            <input type="file" id="fileInput" accept="audio/*" hidden />
            <button id="browseBtn">Parcourir</button>
            <div id="fileLabel"></div>
          </div>
        </div>
      </div>

      <div id="recorder-tab" class="tab-pane">
        <div class="tab-content" id="recorder-tab-content">
          <div id="waveform"></div>
          <div class="voice-progress-container">
            <div class="voice-progress-bar" id="voiceProgressBar">
              <div class="voice-progress-fill" id="voiceProgressFill"></div>
              <div class="voice-progress-handle" id="voiceProgressHandle"></div>
            </div>
            <div class="voice-time-labels">
              <span id="currentTimeLabel">00:00.0</span>
              <span id="totalTimeLabel">00:00.0</span>
            </div>
          </div>
          <div id="controls-timeline">
            <span id="timeline">00:00.0 / 00:00.0</span>
          </div>
          <div id="edit-controls">
            <button id="playBtn">‚ñ∂Ô∏è Play</button>
            <button id="rewindBtn">‚è™ 3s</button>
            <button id="forwardBtn">3s ‚è©</button>
            <button id="deleteBtn">üóëÔ∏è Effacer</button>
            <div class="edit-mode-toggle">
              <button id="insertModeBtn" class="active" title="Ins√©rer du nouvel audio √† la position du curseur">Ins√©rer</button>
              <button id="overwriteModeBtn" title="√âcraser l'audio existant depuis la position du curseur">√âcraser</button>
            </div>
          </div>
          <div id="main-controls">
            <button id="recordBtn" title="Enregistrer/Pause">üé§</button>
            <button id="stopBtn" title="Arr√™ter">‚èπÔ∏è</button>
          </div>
        </div>
      </div>

      <div class="actions-bar">
        <div>
          <label for="templateSelect">Mod√®le :</label>
          <select id="templateSelect">
            <option value="Standard">Standard</option>
          </select>
        </div>
        <button id="processBtn" disabled>Transcrire et Formater</button>
        <div id="progressLabel"></div>
      </div>
    </div>

    <div id="resultSection" class="result-section">
      <div class="result-header">
        <h2>‚úÖ Rapport Pr√™t</h2>
        <button id="newSessionBtn">Nouvelle Session</button>
      </div>
      <div id="resultText"></div>
      <div class="result-actions">
        <button id="copyBtn">Copier le Rapport</button>
        <button id="saveBtn">Enregistrer dans un Fichier</button>
      </div>
    </div>
  </div>

  <audio id="click-sound" src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAA" preload="auto"></audio>
  <audio id="start-sound" src="data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAACA" preload="auto"></audio>
  <audio id="stop-sound" src="data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAAE" preload="auto"></audio>

  <script type="module" src="main.js"></script>
</body>
</html>
